<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <link rel="icon" href="https://raw.githubusercontent.com/Bella288/F1View/main/images/favicon.ico" type="image/x-icon">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>F1 Car Parts Explorer</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-bg: #18181b;
            --primary-text: #fff;
            --modal-bg: #1a1a1a;
            --modal-border: #e10600;
            --tooltip-bg: rgba(0, 0, 0, 0.8);
        }
        [data-theme="light"] {
            --primary-bg: #f6f6f6;
            --primary-text: #18181b;
            --modal-bg: #fff;
            --modal-border: #e10600;
            --tooltip-bg: rgba(60, 60, 60, 0.95);
        }
        html, body {
            background: var(--primary-bg);
            color: var(--primary-text);
        }
        .car-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin: 0 auto;
        }
        .car-part {
            position: absolute;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 10;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(225,6,0,0.18);
            border: 2px solid white;
            box-sizing: border-box;
            outline: none;
        }
        .car-part:focus {
            outline: 3px solid #e10600;
            box-shadow: 0 0 0 3px #fff, 0 0 8px #e10600;
        }
        .car-part:active {
            background: rgba(225,6,0,0.34);
        }
        .car-part:hover {
            transform: scale(1.05);
            filter: drop-shadow(0 0 8px rgba(255, 215, 0, 0.7));
        }
        .part-tooltip {
            position: absolute;
            background-color: var(--tooltip-bg);
            color: white;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 12px;
            pointer-events: none;
            z-index: 20;
            opacity: 0;
            transition: opacity 0.3s;
            white-space: nowrap;
        }
        .car-part:hover .part-tooltip,
        .car-part:focus .part-tooltip {
            opacity: 1;
        }
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 100;
            justify-content: center;
            align-items: center;
        }
        .modal-content {
            background-color: var(--modal-bg);
            color: var(--primary-text);
            border-radius: 10px;
            width: 95%;
            max-width: 520px;
            padding: 20px;
            position: relative;
            border: 2px solid var(--modal-border);
            box-shadow: 0 0 20px rgba(225, 6, 0, 0.5);
        }
        .close-modal {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 24px;
            cursor: pointer;
            color: #e10600;
        }
        .tab-button {
            transition: all 0.3s;
        }
        .tab-button.active {
            background-color: #e10600;
            color: white;
        }
        .darkmode-toggle {
            position: fixed;
            top: 18px;
            right: 72px;
            z-index: 200;
            background: var(--modal-bg);
            border: 2px solid var(--modal-border);
            border-radius: 9999px;
            padding: 6px 12px;
            cursor: pointer;
            display: flex;
            align-items: center;
            box-shadow: 0 2px 18px 0 rgba(0,0,0,0.18);
            transition: background 0.2s, color 0.2s;
        }
        .darkmode-toggle:focus {
            outline: 2px solid #e10600;
        }
        .about-btn {
            position: fixed;
            top: 18px;
            right: 18px;
            z-index: 201;
            background: var(--modal-bg);
            border: 2px solid var(--modal-border);
            border-radius: 16px;
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            padding: 0;
            transition: box-shadow 0.2s;
        }
        .about-btn img {
            width: 22px;
            height: 22px;
            pointer-events: none;
        }
        .about-btn:focus {
            outline: 2px solid #e10600;
            box-shadow: 0 0 0 3px #fff, 0 0 8px #e10600;
        }
        .about-tooltip {
            position: absolute;
            top: 44px;
            right: 0;
            background: var(--tooltip-bg);
            color: white;
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 13px;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.2s;
            z-index: 202;
        }
        .about-btn:hover + .about-tooltip,
        .about-btn:focus + .about-tooltip {
            opacity: 1;
        }
        @media (max-width: 640px) {
            .car-part {
                width: 30px !important;
                height: 30px !important;
            }
            .part-tooltip {
                font-size: 10px;
                padding: 3px 6px;
            }
            .darkmode-toggle,
            .about-btn {
                top: 10px;
                right: 12px;
                padding: 2px 8px;
            }
            .about-btn {
                top: 10px;
                right: 10px;
                width: 30px;
                height: 30px;
            }
            .about-btn img {
                width: 16px;
                height: 16px;
            }
            .about-tooltip {
                top: 36px;
                font-size: 11px;
            }
        }
    </style>
</head>
<body class="min-h-screen">
    <!-- Dark Mode Toggle -->
    <button class="darkmode-toggle" id="darkmode-toggle" aria-label="Toggle dark mode" tabindex="0">
        <span id="darkmode-icon" aria-hidden="true"><i class="fas fa-moon"></i></span>
    </button>
    <!-- About Me Button & Tooltip -->
    <button class="about-btn" id="about-btn" aria-label="About the creator" tabindex="0">
        <img src="https://github.com/Bella288/F1View/raw/main/images/about_ico.png" alt="About Me">
    </button>
    <span class="about-tooltip" id="about-tooltip">Learn about the creator</span>
    <div class="container mx-auto px-4 py-8">
        <header class="text-center mb-8">
            <h1 class="text-4xl md:text-5xl font-bold mb-2 text-red-600">F1 CAR EXPLORER</h1>
            <p class="text-gray-300 max-w-2xl mx-auto">Interactive guide to Formula 1 car components. Click on any part to learn more.</p>
        </header>
        <div class="flex justify-center mb-6">
            <div class="inline-flex rounded-md shadow-sm" role="group">
                <button id="exterior-btn" class="tab-button px-4 py-2 text-sm font-medium rounded-l-lg bg-gray-800 hover:bg-gray-700 active" aria-label="Show Exterior View" tabindex="0">
                    <i class="fas fa-car mr-2" aria-hidden="true"></i>Exterior
                </button>
                <button id="interior-btn" class="tab-button px-4 py-2 text-sm font-medium rounded-r-lg bg-gray-800 hover:bg-gray-700" aria-label="Show Interior View" tabindex="0">
                    <i class="fas fa-tachometer-alt mr-2" aria-hidden="true"></i>Interior
                </button>
            </div>
        </div>
        <!-- EXTERIOR VIEW -->
        <div id="exterior-view" class="car-container">
            <img src="https://raw.githubusercontent.com/Bella288/F1View/main/images/F1_EXTERIOR.jpg" alt="F1 Car" class="w-full">
            <!-- Front Wing -->
            <div class="car-part" style="left:90.63%; top:58.15%;" data-part="front-wing" aria-label="Front Wing" tabindex="0">
                <div class="part-tooltip" style="top:-30px; left:50%; transform:translateX(-50%);">Front Wing</div>
            </div>
            <!-- Nose -->
            <div class="car-part" style="left:85.94%; top:53.89%;" data-part="nose" aria-label="Nose" tabindex="0">
                <div class="part-tooltip" style="top:-30px; left:50%; transform:translateX(-50%);">Nose</div>
            </div>
            <!-- Sidepods -->
            <div class="car-part" style="left:48.65%; top:52.22%;" data-part="sidepods" aria-label="Sidepods" tabindex="0">
                <div class="part-tooltip" style="top:-30px; left:50%; transform:translateX(-50%);">Sidepods</div>
            </div>
            <!-- Halo -->
            <div class="car-part" style="left:60.63%; top:40.56%;" data-part="halo" aria-label="Halo" tabindex="0">
                <div class="part-tooltip" style="top:-30px; left:50%; transform:translateX(-50%);">Halo</div>
            </div>
            <!-- Rear Wing -->
            <div class="car-part" style="left:13.75%; top:46.85%;" data-part="rear-wing" aria-label="Rear Wing" tabindex="0">
                <div class="part-tooltip" style="top:-30px; left:50%; transform:translateX(-50%);">Rear Wing</div>
            </div>
            <!-- Diffuser -->
            <div class="car-part" style="left:26.04%; top:61.11%;" data-part="diffuser" aria-label="Diffuser" tabindex="0">
                <div class="part-tooltip" style="top:40px; left:50%; transform:translateX(-50%);">Diffuser</div>
            </div>
            <!-- Wheels -->
            <div class="car-part" style="left:78.96%; top:56.30%;" data-part="wheels" aria-label="Wheels" tabindex="0">
                <div class="part-tooltip" style="top:-30px; left:50%; transform:translateX(-50%);">Wheels</div>
            </div>
            <!-- DRS -->
            <div class="car-part" style="left:16.15%; top:38.33%;" data-part="drs" aria-label="DRS" tabindex="0">
                <div class="part-tooltip" style="top:-30px; left:50%; transform:translateX(-50%);">DRS</div>
            </div>
            <!-- Extra Wheel Click Area -->
            <div class="car-part" style="left:23.75%; top:37.62%;" data-part="wheels" aria-label="Wheels" tabindex="0">
                <div class="part-tooltip" style="top:-30px; left:50%; transform:translateX(-50%);">Wheels</div>
            </div>
        </div>
        <!-- INTERIOR VIEW -->
        <div id="interior-view" class="car-container hidden">
            <img src="https://raw.githubusercontent.com/Bella288/F1View/main/images/F1_INTERIOR.jpg" alt="F1 Car Interior" class="w-full">
            <!-- Steering Wheel -->
            <div class="car-part" style="left:54.38%; top:69.39%;" data-part="steering-wheel" aria-label="Steering Wheel" tabindex="0">
                <div class="part-tooltip" style="top:-30px; left:50%; transform:translateX(-50%);">Steering Wheel</div>
            </div>
            <!-- Pedals -->
            <div class="car-part" style="left:53.44%; top:78.54%;" data-part="pedals" aria-label="Pedals" tabindex="0">
                <div class="part-tooltip" style="top:40px; left:50%; transform:translateX(-50%);">Pedals</div>
            </div>
            <!-- Seat -->
            <div class="car-part" style="left:53.50%; top:90.41%;" data-part="seat" aria-label="Seat" tabindex="0">
                <div class="part-tooltip" style="top:-30px; left:50%; transform:translateX(-50%);">Seat</div>
            </div>
            <!-- Halo -->
            <div class="car-part" style="left:54.38%; top:49.70%;" data-part="halo-interior" aria-label="Halo (Interior)" tabindex="0">
                <div class="part-tooltip" style="top:-30px; left:50%; transform:translateX(-50%);">Halo</div>
            </div>
            <!-- Left Wheel Click Area -->
            <div class="car-part" style="left:24.47%; top:36.60%;" data-part="wheels" aria-label="Wheels" tabindex="0">
                <div class="part-tooltip" style="top:-30px; left:50%; transform:translateX(-50%);">Wheels</div>
            </div>
            <!-- Right Wheel Click Area -->
            <div class="car-part" style="left:81.87%; top:33.67%;" data-part="wheels" aria-label="Wheels" tabindex="0">
                <div class="part-tooltip" style="top:-30px; left:50%; transform:translateX(-50%);">Wheels</div>
            </div>
        </div>

        <div id="part-modal" class="modal" aria-modal="true" role="dialog">
            <div class="modal-content">
                <span class="close-modal" aria-label="Close part modal" tabindex="0">&times;</span>
                <h2 id="part-name" class="text-2xl font-bold mb-4 text-red-600"></h2>
                <div id="part-description" class="text-gray-300 mb-2"></div>
                <div id="part-image" class="mb-3"></div>
                <div id="part-facts" class="mt-4 p-4 bg-gray-800 rounded-lg hidden">
                    <h3 class="font-bold text-red-500 mb-2">Fun Fact</h3>
                    <p id="fact-text"></p>
                </div>
                <div id="part-learnmore" class="mt-3"></div>
            </div>
        </div>
        <div id="about-modal" class="modal" aria-modal="true" role="dialog">
            <div class="modal-content">
                <span class="close-modal" id="close-about" aria-label="Close about modal" tabindex="0">&times;</span>
                <h2 class="text-2xl font-bold mb-4 text-red-600">About the Creator</h2>
                <div class="mb-2">Hi! I'm <b>Bella</b> from Fort Wayne, Indiana.</div>
                <ul class="list-disc ml-6 mb-4 text-gray-300">
                    <li>I code in <b>HTML</b> and <b>Python</b></li>
                    <li>My YouTube: <a href="https://www.youtube.com/@BELLA_YT_SDN" class="text-red-400 underline" target="_blank">@BELLA_YT_SDN</a></li>
                    <li>I stream on Twitch as <a href="https://www.twitch.tv/BellaLawrencE288" class="text-purple-400 underline" target="_blank">@BellaLawrencE288</a></li>
                    <li>My favorite show: <b>Murder Drones</b></li>
                    <li>I love <b>tech</b> and <b>nature</b></li>
                    <li>My favorite YouTubers: <b>Jschlatt</b>, <b>DankPods</b> (and more!)</li>
                    <li>I have many dreams for the future, including becoming a programmer</li>
                </ul>
                <div class="text-gray-400 text-xs">Thanks for checking out my project!</div>
            </div>
        </div>
        <script>
            // Dark mode toggle logic
            const darkModeBtn = document.getElementById('darkmode-toggle');
            const darkModeIcon = document.getElementById('darkmode-icon');
            function setDarkMode(isDark) {
                document.documentElement.setAttribute('data-theme', isDark ? 'dark' : 'light');
                darkModeIcon.innerHTML = isDark
                    ? '<i class="fas fa-moon"></i>'
                    : '<i class="fas fa-sun"></i>';
                localStorage.setItem('theme', isDark ? 'dark' : 'light');
            }
            function toggleDarkMode() {
                const isDark = document.documentElement.getAttribute('data-theme') === 'dark';
                setDarkMode(!isDark);
            }
            darkModeBtn.addEventListener('click', toggleDarkMode);
            darkModeBtn.addEventListener('keydown', e => {
                if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); toggleDarkMode(); }
            });
            // On load, set theme from localStorage
            (() => {
                const theme = localStorage.getItem('theme');
                if (theme) setDarkMode(theme === 'dark');
            })();

            // About modal logic
            const aboutBtn = document.getElementById('about-btn');
            const aboutModal = document.getElementById('about-modal');
            const aboutTooltip = document.getElementById('about-tooltip');
            function openAbout() {
                aboutModal.style.display = 'flex';
                document.body.style.overflow = 'hidden';
                document.getElementById('close-about').focus();
            }
            function closeAbout() {
                aboutModal.style.display = 'none';
                document.body.style.overflow = '';
                aboutBtn.focus();
            }
            aboutBtn.addEventListener('click', openAbout);
            aboutBtn.addEventListener('keydown', e => {
                if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); openAbout(); }
            });
            document.getElementById('close-about').addEventListener('click', closeAbout);
            document.getElementById('close-about').addEventListener('keydown', e => {
                if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); closeAbout(); }
            });
            window.addEventListener('keydown', e => {
                if (e.key === "Escape" && aboutModal.style.display === 'flex') closeAbout();
            });
            aboutModal.addEventListener('click', e => {
                if (e.target === aboutModal) closeAbout();
            });

            // Parts data and links/images
            const partImages = {
                'front-wing': 'https://upload.wikimedia.org/wikipedia/commons/3/3d/F1_Front_Wing.jpg',
                'nose': 'https://upload.wikimedia.org/wikipedia/commons/6/61/F1_Nose_2022.jpg',
                'sidepods': 'https://upload.wikimedia.org/wikipedia/commons/8/8b/F1_Sidepod.jpg',
                'halo': 'https://upload.wikimedia.org/wikipedia/commons/4/4a/F1_Halo.jpg',
                'rear-wing': 'https://upload.wikimedia.org/wikipedia/commons/5/50/F1_Rear_Wing.jpg',
                'diffuser': 'https://upload.wikimedia.org/wikipedia/commons/8/8e/F1_Diffuser.jpg',
                'wheels': 'https://upload.wikimedia.org/wikipedia/commons/7/7b/F1_Tire_Pirelli.jpg',
                'drs': 'https://upload.wikimedia.org/wikipedia/commons/1/1d/F1_DRS.jpg',
                'steering-wheel': 'https://upload.wikimedia.org/wikipedia/commons/2/2e/F1_Steering_Wheel_2022.jpg',
                'pedals': 'https://upload.wikimedia.org/wikipedia/commons/4/4e/F1_Pedals.jpg',
                'seat': 'https://upload.wikimedia.org/wikipedia/commons/8/8c/F1_Seat.jpg',
                'halo-interior': 'https://upload.wikimedia.org/wikipedia/commons/0/0b/F1_Halo_Interior.jpg'
            };
            const partLinks = {
                'front-wing': 'https://en.wikipedia.org/wiki/Wing_(automobile)#Front_wing',
                'nose': 'https://en.wikipedia.org/wiki/Formula_One_car#Nose_cone',
                'sidepods': 'https://en.wikipedia.org/wiki/Sidepod',
                'halo': 'https://en.wikipedia.org/wiki/Halo_(safety_device)',
                'rear-wing': 'https://en.wikipedia.org/wiki/Wing_(automobile)#Rear_wing',
                'diffuser': 'https://en.wikipedia.org/wiki/Diffuser_(automotive)',
                'wheels': 'https://en.wikipedia.org/wiki/Wheel#Automotive_wheels',
                'drs': 'https://en.wikipedia.org/wiki/Drag_reduction_system',
                'steering-wheel': 'https://en.wikipedia.org/wiki/Steering_wheel#Formula_One',
                'pedals': 'https://en.wikipedia.org/wiki/Car_controls#Pedals',
                'seat': 'https://en.wikipedia.org/wiki/Racing_seat',
                'halo-interior': 'https://en.wikipedia.org/wiki/Halo_(safety_device)'
            };
            const partsData = {
                // ... (Use your expanded part details from your last update here)
                // (For space, use the detailed part descriptions from the previous answer)
                // (Truncated for brevity)
                'front-wing': {
                    name: 'Front Wing',
                    description: `The front wing is the first point of contact for airflow and is fundamental to a car’s aerodynamic performance. It's made from multiple carbon fiber elements and endplates, each meticulously shaped to guide air around the tires and into the rest of the car’s bodywork. Adjustments to the front wing can change the car’s balance and grip, and teams bring different designs to suit each circuit's demands. A damaged front wing can severely impact lap times due to lost downforce and disturbed airflow.`,
                    fact: `Front wings can generate up to 25% of the car's total downforce, and each design is optimized for a specific track. They are often replaced in seconds during pit stops, and can cost over $100,000 each.`
                },
                // ...repeat for all other parts as before...
                'nose': {/* ... */},
                'sidepods': {/* ... */},
                'halo': {/* ... */},
                'rear-wing': {/* ... */},
                'diffuser': {/* ... */},
                'wheels': {/* ... */},
                'drs': {/* ... */},
                'steering-wheel': {/* ... */},
                'pedals': {/* ... */},
                'seat': {/* ... */},
                'halo-interior': {/* ... */}
            };

            // Tab switching functionality
            const exteriorBtn = document.getElementById('exterior-btn');
            const interiorBtn = document.getElementById('interior-btn');
            const exteriorView = document.getElementById('exterior-view');
            const interiorView = document.getElementById('interior-view');
            exteriorBtn.addEventListener('click', () => {
                exteriorBtn.classList.add('active');
                interiorBtn.classList.remove('active');
                exteriorView.classList.remove('hidden');
                interiorView.classList.add('hidden');
            });
            interiorBtn.addEventListener('click', () => {
                interiorBtn.classList.add('active');
                exteriorBtn.classList.remove('active');
                interiorView.classList.remove('hidden');
                exteriorView.classList.add('hidden');
            });

            // Modal functionality
            const modal = document.getElementById('part-modal');
            const partName = document.getElementById('part-name');
            const partDescription = document.getElementById('part-description');
            const partFacts = document.getElementById('part-facts');
            const factText = document.getElementById('fact-text');
            const partImage = document.getElementById('part-image');
            const partLearnMore = document.getElementById('part-learnmore');
            const closeModal = document.querySelector('.close-modal');
            // Keyboard focus trap for modal
            function trapModalFocus(modal) {
                const focusable = modal.querySelectorAll('a, button, input, .close-modal');
                if (focusable.length) focusable[0].focus();
            }
            function showModal() {
                modal.style.display = 'flex';
                document.body.style.overflow = 'hidden';
                trapModalFocus(modal);
            }
            function hideModal() {
                modal.style.display = 'none';
                document.body.style.overflow = '';
            }
            // Add click and keyboard events to all parts
            document.querySelectorAll('.car-part').forEach(part => {
                part.addEventListener('click', () => openPartModal(part));
                part.addEventListener('keydown', e => {
                    if (e.key === 'Enter' || e.key === ' ') {
                        e.preventDefault();
                        openPartModal(part);
                    }
                });
            });
            function openPartModal(part) {
                const partId = part.getAttribute('data-part');
                const partData = partsData[partId];
                partName.textContent = partData.name;
                partDescription.textContent = partData.description;
                if (partImages[partId]) {
                    partImage.innerHTML = `<img src="${partImages[partId]}" alt="${partData.name}" class="rounded-lg shadow mb-2" style="max-width: 100%; max-height:140px; display:block; margin:auto;">`;
                } else {
                    partImage.innerHTML = '';
                }
                if (partData.fact) {
                    factText.textContent = partData.fact;
                    partFacts.classList.remove('hidden');
                } else {
                    partFacts.classList.add('hidden');
                }
                if (partLinks[partId]) {
                    partLearnMore.innerHTML = `<a href="${partLinks[partId]}" class="text-blue-400 underline" target="_blank" rel="noopener">Learn more</a>`;
                } else {
                    partLearnMore.innerHTML = '';
                }
                showModal();
            }
            closeModal.addEventListener('click', hideModal);
            closeModal.addEventListener('keydown', e => {
                if (e.key === 'Enter' || e.key === ' ') hideModal();
            });
            window.addEventListener('keydown', e => {
                if (e.key === "Escape" && modal.style.display === 'flex') hideModal();
            });
            modal.addEventListener('click', e => {
                if (e.target === modal) hideModal();
            });

            // Animate parts on load
            document.addEventListener('DOMContentLoaded', () => {
                const parts = document.querySelectorAll('.car-part');
                parts.forEach((part, index) => {
                    setTimeout(() => { part.style.opacity = '1'; }, index * 100);
                });
            });
        </script>
    </div>
</body>
</html>
