<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <link rel="icon" href="https://raw.githubusercontent.com/Bella288/F1View/main/images/favicon.ico" type="image/x-icon">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>F1 Car Parts Explorer</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-bg: #18181b;
            --primary-text: #fff;
            --modal-bg: #1a1a1a;
            --modal-border: #e10600;
            --tooltip-bg: rgba(0, 0, 0, 0.8);
        }
        [data-theme="light"] {
            --primary-bg: #f6f6f6;
            --primary-text: #18181b;
            --modal-bg: #fff;
            --modal-border: #e10600;
            --tooltip-bg: rgba(60, 60, 60, 0.95);
        }
        html, body {
            background: var(--primary-bg);
            color: var(--primary-text);
        }
        .car-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin: 0 auto;
        }
        .car-part {
            position: absolute;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 10;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(225,6,0,0.18);
            border: 2px solid white;
            box-sizing: border-box;
            outline: none;
        }
        .car-part:focus {
            outline: 3px solid #e10600;
            box-shadow: 0 0 0 3px #fff, 0 0 8px #e10600;
        }
        .car-part:active {
            background: rgba(225,6,0,0.34);
        }
        .car-part:hover {
            transform: scale(1.05);
            filter: drop-shadow(0 0 8px rgba(255, 215, 0, 0.7));
        }
        .part-tooltip {
            position: absolute;
            background-color: var(--tooltip-bg);
            color: white;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 12px;
            pointer-events: none;
            z-index: 20;
            opacity: 0;
            transition: opacity 0.3s;
            white-space: nowrap;
        }
        .car-part:hover .part-tooltip,
        .car-part:focus .part-tooltip {
            opacity: 1;
        }
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 100;
            justify-content: center;
            align-items: center;
        }
        .modal-content {
            background-color: var(--modal-bg);
            color: var(--primary-text);
            border-radius: 10px;
            width: 95%;
            max-width: 520px;
            padding: 20px;
            position: relative;
            border: 2px solid var(--modal-border);
            box-shadow: 0 0 20px rgba(225, 6, 0, 0.5);
        }
        .close-modal {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 24px;
            cursor: pointer;
            color: #e10600;
        }
        .tab-button {
            transition: all 0.3s;
        }
        .tab-button.active {
            background-color: #e10600;
            color: white;
        }
        .darkmode-toggle {
            position: fixed;
            top: 18px;
            right: 72px;
            z-index: 200;
            background: var(--modal-bg);
            border: 2px solid var(--modal-border);
            border-radius: 9999px;
            padding: 6px 12px;
            cursor: pointer;
            display: flex;
            align-items: center;
            box-shadow: 0 2px 18px 0 rgba(0,0,0,0.18);
            transition: background 0.2s, color 0.2s;
        }
        .darkmode-toggle:focus {
            outline: 2px solid #e10600;
        }
        .about-btn {
            position: fixed;
            top: 18px;
            right: 18px;
            z-index: 201;
            background: var(--modal-bg);
            border: 2px solid var(--modal-border);
            border-radius: 16px;
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            padding: 0;
            transition: box-shadow 0.2s;
        }
        .about-btn img {
            width: 22px;
            height: 22px;
            pointer-events: none;
        }
        .about-btn:focus {
            outline: 2px solid #e10600;
            box-shadow: 0 0 0 3px #fff, 0 0 8px #e10600;
        }
        .about-tooltip {
            position: absolute;
            top: 44px;
            right: 0;
            background: var(--tooltip-bg);
            color: white;
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 13px;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.2s;
            z-index: 202;
        }
        .about-btn:hover + .about-tooltip,
        .about-btn:focus + .about-tooltip {
            opacity: 1;
        }
        @media (max-width: 640px) {
            .car-part {
                width: 30px !important;
                height: 30px !important;
            }
            .part-tooltip {
                font-size: 10px;
                padding: 3px 6px;
            }
            .darkmode-toggle,
            .about-btn {
                top: 10px;
                right: 12px;
                padding: 2px 8px;
            }
            .about-btn {
                top: 10px;
                right: 10px;
                width: 30px;
                height: 30px;
            }
            .about-btn img {
                width: 16px;
                height: 16px;
            }
            .about-tooltip {
                top: 36px;
                font-size: 11px;
            }
        }
    </style>
</head>
<body class="min-h-screen">
    <!-- Dark Mode Toggle -->
    <button class="darkmode-toggle" id="darkmode-toggle" aria-label="Toggle dark mode" tabindex="0">
        <span id="darkmode-icon" aria-hidden="true"><i class="fas fa-moon"></i></span>
    </button>
    <!-- About Me Button & Tooltip -->
    <button class="about-btn" id="about-btn" aria-label="About the creator" tabindex="0">
        <img src="https://github.com/Bella288/F1View/raw/main/images/about_ico.png" alt="About Me">
    </button>
    <span class="about-tooltip" id="about-tooltip">Learn about the creator</span>
    <div class="container mx-auto px-4 py-8">
        <header class="text-center mb-8">
            <h1 class="text-4xl md:text-5xl font-bold mb-2 text-red-600">F1 CAR EXPLORER</h1>
            <p class="text-gray-300 max-w-2xl mx-auto">Interactive guide to Formula 1 car components. Click on any part to learn more.</p>
        </header>
        <div class="flex justify-center mb-6">
            <div class="inline-flex rounded-md shadow-sm" role="group">
                <button id="exterior-btn" class="tab-button px-4 py-2 text-sm font-medium rounded-l-lg bg-gray-800 hover:bg-gray-700 active" aria-label="Show Exterior View" tabindex="0">
                    <i class="fas fa-car mr-2" aria-hidden="true"></i>Exterior
                </button>
                <button id="interior-btn" class="tab-button px-4 py-2 text-sm font-medium rounded-r-lg bg-gray-800 hover:bg-gray-700" aria-label="Show Interior View" tabindex="0">
                    <i class="fas fa-tachometer-alt mr-2" aria-hidden="true"></i>Interior
                </button>
            </div>
        </div>
        <!-- EXTERIOR VIEW -->
        <div id="exterior-view" class="car-container">
            <img src="https://raw.githubusercontent.com/Bella288/F1View/main/images/F1_EXTERIOR.jpg" alt="F1 Car" class="w-full">
            <!-- Front Wing -->
            <div class="car-part" style="left:90.63%; top:58.15%;" data-part="front-wing" aria-label="Front Wing" tabindex="0">
                <div class="part-tooltip" style="top:-30px; left:50%; transform:translateX(-50%);">Front Wing</div>
            </div>
            <!-- Nose -->
            <div class="car-part" style="left:85.94%; top:53.89%;" data-part="nose" aria-label="Nose" tabindex="0">
                <div class="part-tooltip" style="top:-30px; left:50%; transform:translateX(-50%);">Nose</div>
            </div>
            <!-- Sidepods -->
            <div class="car-part" style="left:48.65%; top:52.22%;" data-part="sidepods" aria-label="Sidepods" tabindex="0">
                <div class="part-tooltip" style="top:-30px; left:50%; transform:translateX(-50%);">Sidepods</div>
            </div>
            <!-- Halo -->
            <div class="car-part" style="left:60.63%; top:40.56%;" data-part="halo" aria-label="Halo" tabindex="0">
                <div class="part-tooltip" style="top:-30px; left:50%; transform:translateX(-50%);">Halo</div>
            </div>
            <!-- Rear Wing -->
            <div class="car-part" style="left:13.75%; top:46.85%;" data-part="rear-wing" aria-label="Rear Wing" tabindex="0">
                <div class="part-tooltip" style="top:-30px; left:50%; transform:translateX(-50%);">Rear Wing</div>
            </div>
            <!-- Diffuser -->
            <div class="car-part" style="left:26.04%; top:61.11%;" data-part="diffuser" aria-label="Diffuser" tabindex="0">
                <div class="part-tooltip" style="top:40px; left:50%; transform:translateX(-50%);">Diffuser</div>
            </div>
            <!-- Wheels -->
            <div class="car-part" style="left:78.96%; top:56.30%;" data-part="wheels" aria-label="Wheels" tabindex="0">
                <div class="part-tooltip" style="top:-30px; left:50%; transform:translateX(-50%);">Wheels</div>
            </div>
            <!-- DRS -->
            <div class="car-part" style="left:16.15%; top:38.33%;" data-part="drs" aria-label="DRS" tabindex="0">
                <div class="part-tooltip" style="top:-30px; left:50%; transform:translateX(-50%);">DRS</div>
            </div>
            <!-- Corrected: New Wheel Click Area at (190,301) for 960x540 -->
            <div class="car-part" style="left:19.79%; top:55.74%;" data-part="wheels" aria-label="Wheels" tabindex="0">
                <div class="part-tooltip" style="top:-30px; left:50%; transform:translateX(-50%);">Wheels</div>
            </div>
        </div>
        <!-- INTERIOR VIEW -->
        <div id="interior-view" class="car-container hidden">
            <img src="https://raw.githubusercontent.com/Bella288/F1View/main/images/F1_INTERIOR.jpg" alt="F1 Car Interior" class="w-full">
            <!-- Steering Wheel -->
            <div class="car-part" style="left:54.38%; top:69.39%;" data-part="steering-wheel" aria-label="Steering Wheel" tabindex="0">
                <div class="part-tooltip" style="top:-30px; left:50%; transform:translateX(-50%);">Steering Wheel</div>
            </div>
            <!-- Pedals -->
            <div class="car-part" style="left:53.44%; top:78.54%;" data-part="pedals" aria-label="Pedals" tabindex="0">
                <div class="part-tooltip" style="top:40px; left:50%; transform:translateX(-50%);">Pedals</div>
            </div>
            <!-- Seat -->
            <div class="car-part" style="left:53.50%; top:90.41%;" data-part="seat" aria-label="Seat" tabindex="0">
                <div class="part-tooltip" style="top:-30px; left:50%; transform:translateX(-50%);">Seat</div>
            </div>
            <!-- Halo -->
            <div class="car-part" style="left:54.38%; top:49.70%;" data-part="halo-interior" aria-label="Halo (Interior)" tabindex="0">
                <div class="part-tooltip" style="top:-30px; left:50%; transform:translateX(-50%);">Halo</div>
            </div>
            <!-- Corrected: Left Wheel Click Area at (367,549) for 1600x1131 -->
            <div class="car-part" style="left:22.94%; top:48.54%;" data-part="wheels" aria-label="Wheels" tabindex="0">
                <div class="part-tooltip" style="top:-30px; left:50%; transform:translateX(-50%);">Wheels</div>
            </div>
            <!-- Corrected: Right Wheel Click Area at (1228,505) for 1600x1131 -->
            <div class="car-part" style="left:76.75%; top:44.67%;" data-part="wheels" aria-label="Wheels" tabindex="0">
                <div class="part-tooltip" style="top:-30px; left:50%; transform:translateX(-50%);">Wheels</div>
            </div>
        </div>

        <div id="part-modal" class="modal" aria-modal="true" role="dialog">
            <div class="modal-content">
                <span class="close-modal" aria-label="Close part modal" tabindex="0">&times;</span>
                <h2 id="part-name" class="text-2xl font-bold mb-4 text-red-600"></h2>
                <div id="part-description" class="text-gray-300 mb-2"></div>
                <div id="part-image" class="mb-3"></div>
                <div id="part-facts" class="mt-4 p-4 bg-gray-800 rounded-lg hidden">
                    <h3 class="font-bold text-red-500 mb-2">Fun Fact</h3>
                    <p id="fact-text"></p>
                </div>
                <div id="part-learnmore" class="mt-3"></div>
            </div>
        </div>
        <div id="about-modal" class="modal" aria-modal="true" role="dialog">
            <div class="modal-content">
                <span class="close-modal" id="close-about" aria-label="Close about modal" tabindex="0">&times;</span>
                <h2 class="text-2xl font-bold mb-4 text-red-600">About the Creator</h2>
                <div class="mb-2">Hi! I'm <b>Bella</b> from Fort Wayne, Indiana.</div>
                <ul class="list-disc ml-6 mb-4 text-gray-300">
                    <li>I code in <b>HTML</b> and <b>Python</b></li>
                    <li>My YouTube: <a href="https://www.youtube.com/@BELLA_YT_SDN" class="text-red-400 underline" target="_blank">@BELLA_YT_SDN</a></li>
                    <li>I stream on Twitch as <a href="https://www.twitch.tv/BellaLawrencE288" class="text-purple-400 underline" target="_blank">@BellaLawrencE288</a></li>
                    <li>My favorite show: <b>Murder Drones</b></li>
                    <li>I love <b>tech</b> and <b>nature</b></li>
                    <li>My favorite YouTubers: <b>Jschlatt</b>, <b>DankPods</b> (and more!)</li>
                    <li>I have many dreams for the future, including becoming a programmer</li>
                </ul>
                <div class="text-gray-400 text-xs">Thanks for checking out my project!</div>
            </div>
        </div>
        <script>
            // Dark mode toggle logic
            const darkModeBtn = document.getElementById('darkmode-toggle');
            const darkModeIcon = document.getElementById('darkmode-icon');
            function setDarkMode(isDark) {
                document.documentElement.setAttribute('data-theme', isDark ? 'dark' : 'light');
                darkModeIcon.innerHTML = isDark
                    ? '<i class="fas fa-moon"></i>'
                    : '<i class="fas fa-sun"></i>';
                localStorage.setItem('theme', isDark ? 'dark' : 'light');
            }
            function toggleDarkMode() {
                const isDark = document.documentElement.getAttribute('data-theme') === 'dark';
                setDarkMode(!isDark);
            }
            darkModeBtn.addEventListener('click', toggleDarkMode);
            darkModeBtn.addEventListener('keydown', e => {
                if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); toggleDarkMode(); }
            });
            (() => {
                const theme = localStorage.getItem('theme');
                if (theme) setDarkMode(theme === 'dark');
            })();

            // About modal logic
            const aboutBtn = document.getElementById('about-btn');
            const aboutModal = document.getElementById('about-modal');
            const aboutTooltip = document.getElementById('about-tooltip');
            function openAbout() {
                aboutModal.style.display = 'flex';
                document.body.style.overflow = 'hidden';
                document.getElementById('close-about').focus();
            }
            function closeAbout() {
                aboutModal.style.display = 'none';
                document.body.style.overflow = '';
                aboutBtn.focus();
            }
            aboutBtn.addEventListener('click', openAbout);
            aboutBtn.addEventListener('keydown', e => {
                if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); openAbout(); }
            });
            document.getElementById('close-about').addEventListener('click', closeAbout);
            document.getElementById('close-about').addEventListener('keydown', e => {
                if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); closeAbout(); }
            });
            window.addEventListener('keydown', e => {
                if (e.key === "Escape" && aboutModal.style.display === 'flex') closeAbout();
            });
            aboutModal.addEventListener('click', e => {
                if (e.target === aboutModal) closeAbout();
            });

            // Part images and links
            const partImages = {
                // --- EXTERIOR ---
                'front-wing': 'https://raw.githubusercontent.com/Bella288/F1View/main/images/parts/exterior/front_wing.webp',
                'nose': 'https://raw.githubusercontent.com/Bella288/F1View/main/images/parts/exterior/nose.jpg',
                'sidepods': 'https://raw.githubusercontent.com/Bella288/F1View/main/images/parts/exterior/sidepods.jpg',
                'halo': 'https://raw.githubusercontent.com/Bella288/F1View/main/images/parts/exterior/halo.jpg',
                'rear-wing': 'https://raw.githubusercontent.com/Bella288/F1View/main/images/parts/exterior/rear_wing.jpg',
                'diffuser': 'https://raw.githubusercontent.com/Bella288/F1View/main/images/parts/exterior/sidepods.jpg',
                'wheels': 'https://raw.githubusercontent.com/Bella288/F1View/main/images/parts/exterior/tyre.jpg',
                'drs': 'https://raw.githubusercontent.com/Bella288/F1View/main/images/parts/exterior/drs.gif',
                // --- INTERIOR ---
                'steering-wheel': 'https://raw.githubusercontent.com/Bella288/F1View/main/images/parts/interior/steer.jpg',
                'pedals': 'https://raw.githubusercontent.com/Bella288/F1View/main/images/parts/interior/pedals.jpg',
                'seat': 'https://raw.githubusercontent.com/Bella288/F1View/main/images/parts/interior/seat.png',
                'halo-interior': 'https://raw.githubusercontent.com/Bella288/F1View/main/images/parts/interior/halo.png'
            };
            const partLinks = {
                'front-wing': 'https://en.wikipedia.org/wiki/Wing_(automobile)#Front_wing',
                'nose': 'https://en.wikipedia.org/wiki/Formula_One_car#Nose_cone',
                'sidepods': 'https://en.wikipedia.org/wiki/Sidepod',
                'halo': 'https://en.wikipedia.org/wiki/Halo_(safety_device)',
                'rear-wing': 'https://en.wikipedia.org/wiki/Wing_(automobile)#Rear_wing',
                'diffuser': 'https://en.wikipedia.org/wiki/Diffuser_(automotive)',
                'wheels': 'https://en.wikipedia.org/wiki/Wheel#Automotive_wheels',
                'drs': 'https://en.wikipedia.org/wiki/Drag_reduction_system',
                'steering-wheel': 'https://en.wikipedia.org/wiki/Steering_wheel#Formula_One',
                'pedals': 'https://en.wikipedia.org/wiki/Car_controls#Pedals',
                'seat': 'https://en.wikipedia.org/wiki/Racing_seat',
                'halo-interior': 'https://en.wikipedia.org/wiki/Halo_(safety_device)'
            };
            // --- FULL partsData object, all parts filled out, see earlier assistant messages for content ---
            const partsData = {
                'front-wing': {
                    name: 'Front Wing',
                    description: `The front wing is the first point of contact for airflow and is fundamental to a car’s aerodynamic performance. It's made from multiple carbon fiber elements and endplates, each meticulously shaped to guide air around the tires and into the rest of the car’s bodywork. Adjustments to the front wing can change the car’s balance and grip, and teams bring different designs to suit each circuit's demands. A damaged front wing can severely impact lap times due to lost downforce and disturbed airflow.`,
                    fact: `Front wings can generate up to 25% of the car's total downforce, and each design is optimized for a specific track. They are often replaced in seconds during pit stops, and can cost over $100,000 each.`
                },
                'nose': {
                    name: 'Nose Cone',
                    description: `The nose cone is the forward-most structure, designed to pass stringent crash tests while being as aerodynamic and lightweight as possible. The design influences airflow beneath the car and toward the bargeboards and floor. Modern F1 noses are narrow and high to maximize airflow, and their structure is critical for both performance and driver safety.`,
                    fact: `The nose must withstand an impact of 15kN (about 1.5 tons) without failing safety tests. Teams often redesign noses mid-season to optimize airflow and meet new regulations.`
                },
                'sidepods': {
                    name: 'Sidepods',
                    description: `Sidepods house radiators, electronics, and sometimes cooling for the hybrid system. Their outer surfaces are sculpted to channel air efficiently, reducing drag and increasing cooling. The shape of the sidepods is a key area of innovation, with teams experimenting with “in-wash” and “downwash” concepts to manipulate airflow to the rear of the car. Effective cooling is vital, as power units and batteries operate at high thermal loads throughout a race.`,
                    fact: `Temperatures inside sidepods can reach up to 120°C (248°F) during a race. Teams use complex airflow simulations (CFD) to design them for maximum cooling and minimum drag.`
                },
                'halo': {
                    name: 'Halo Safety Device',
                    description: `The halo is a titanium structure mounted above the cockpit to protect the driver’s head from debris or other cars. It can withstand huge forces and is credited with saving lives in multiple high-profile accidents. Despite initial controversy over aesthetics, drivers quickly adapted, and today it's an integral safety feature. The halo also slightly affects the car’s aerodynamics, so teams design fairings to minimize drag.`,
                    fact: `The halo weighs about 7 kg but can support loads of up to 12,000 kg—over 1.5 times the weight of a London double-decker bus. Titanium halos are manufactured to strict FIA standards and are replaced after a heavy impact.`
                },
                'rear-wing': {
                    name: 'Rear Wing',
                    description: `The rear wing provides crucial downforce, helping maintain grip at high speeds and during cornering. Its multi-element design and endplates are fine-tuned for each circuit. The main plane and flap can be adjusted, both for maximum downforce and to balance the effects of DRS (Drag Reduction System). The rear wing also helps manage airflow over the car and controls the wake for following cars, making it a focus for both performance and regulatory changes.`,
                    fact: `At full speed, the rear wing can generate enough downforce to theoretically allow the car to drive upside down. Complex endplate designs help reduce drag and improve straight-line speed.`
                },
                'diffuser': {
                    name: 'Diffuser',
                    description: `The diffuser is the upward-swept rear section of the floor, essential for generating ground effect downforce. By accelerating airflow under the car, the diffuser creates a low-pressure zone that pulls the car to the track. Its design is tightly regulated, but teams exploit every millimeter for extra performance. Modern diffusers work with the floor’s venturi tunnels to maximize suction without increasing drag.`,
                    fact: `A well-designed diffuser can increase total car downforce by up to 40% without adding significant drag. Ground effect is so strong that a sudden loss (e.g., from bottoming out) can cause a car to spin.`
                },
                'wheels': {
                    name: 'Wheels',
                    description: `F1 wheels are made from high-strength magnesium alloy, combining lightness and durability. They are fitted with Pirelli tires, which are slick for dry conditions and treaded for wet. Each wheel contains a tire pressure monitoring system (TPMS), and wheel guns designed for rapid pit stops can remove and replace them in under two seconds. Brakes, suspension, and airflow are all designed around the wheel’s placement. The wheels must endure extreme lateral forces, temperature swings, and impacts during a race.`,
                    fact: `F1 tires can reach temperatures of 130°C (266°F) during racing. A full set of wheels and tires costs tens of thousands of dollars, and teams use about 1,600 tires per season.`
                },
                'drs': {
                    name: 'DRS (Drag Reduction System)',
                    description: `The Drag Reduction System (DRS) allows drivers to open a flap in the rear wing when within one second of a car ahead, reducing drag and increasing straight-line speed. DRS can only be used in specific zones and under green flag conditions. It’s a strategic tool for overtaking, but must be managed carefully as it reduces rear downforce and stability. DRS has led to more on-track action, but also requires skill to use effectively without losing control.`,
                    fact: `DRS can increase straight-line speed by 10–15 km/h (6–9 mph) by reducing drag by up to 25%. The system is electronically controlled and monitored by race stewards to ensure compliance.`
                },
                'steering-wheel': {
                    name: 'Steering Wheel',
                    description: `An F1 steering wheel is an advanced control center, featuring more than 20 buttons, rotary switches, and paddles. Drivers use the wheel to change engine modes, adjust brake bias, activate DRS, make radio calls, and even engage the pit limiter. The display screen shows vital telemetry, lap times, gear selection, and warning messages. Each wheel is custom-fitted and programmed for the individual driver, and its quick-release mechanism is a key safety feature.`,
                    fact: `F1 steering wheels can weigh as little as 1.3 kg and take over 100 hours to design and build. Some wheels cost over $50,000 and contain more than 200 components.`
                },
                'pedals': {
                    name: 'Pedals',
                    description: `F1 cars have just two pedals: brake (left) and throttle (right). The brake pedal operates carbon-carbon brakes capable of generating over 5G of deceleration, while throttle mapping can be adjusted for different power delivery. There is no clutch pedal; instead, drivers use paddles behind the steering wheel for starts. Braking is a complex blend of hydraulic and regenerative systems, especially with hybrid power units.`,
                    fact: `Brake pedal pressure can exceed 150 kg during heavy braking, with temperatures reaching 1,000°C (1,832°F). Drivers can go from 300 km/h to 50 km/h in less than 2 seconds.`
                },
                'seat': {
                    name: `Driver's Seat`,
                    description: `The seat is custom-molded to each driver using foam or resin, providing maximum support and safety during high G-force events. It's made from carbon fiber for strength and lightness, and must be easily removable in an emergency. The seat supports the driver’s body in corners and under braking, and often includes integrated headrests and safety harnesses. Comfort is limited, as a snug fit is essential for both performance and crash safety.`,
                    fact: `Seats are so tight that drivers often lose 2–3 kg of weight during a race from dehydration. Each seat is unique, and drivers sometimes bring their mold from team to team.`
                },
                'halo-interior': {
                    name: 'Halo (Interior View)',
                    description: `From inside the cockpit, the halo appears as a central pillar and two side arms, framing the driver's field of vision. While it may seem intrusive, drivers adapt quickly and can spot apexes and rivals with minimal distraction. The central pillar is designed to minimize visual obstruction, and teams add padding and aerodynamic fairings for comfort and performance. The halo must be easily detachable for rescue operations.`,
                    fact: `During development, 90% of drivers said they could spot a Formula 2 car approaching with the Halo fitted. The device has saved lives in several dramatic incidents since its introduction.`
                }
            };

            // Tab switching functionality
            const exteriorBtn = document.getElementById('exterior-btn');
            const interiorBtn = document.getElementById('interior-btn');
            const exteriorView = document.getElementById('exterior-view');
            const interiorView = document.getElementById('interior-view');
            exteriorBtn.addEventListener('click', () => {
                exteriorBtn.classList.add('active');
                interiorBtn.classList.remove('active');
                exteriorView.classList.remove('hidden');
                interiorView.classList.add('hidden');
            });
            interiorBtn.addEventListener('click', () => {
                interiorBtn.classList.add('active');
                exteriorBtn.classList.remove('active');
                interiorView.classList.remove('hidden');
                exteriorView.classList.add('hidden');
            });

            // Modal functionality
            const modal = document.getElementById('part-modal');
            const partName = document.getElementById('part-name');
            const partDescription = document.getElementById('part-description');
            const partFacts = document.getElementById('part-facts');
            const factText = document.getElementById('fact-text');
            const partImage = document.getElementById('part-image');
            const partLearnMore = document.getElementById('part-learnmore');
            const closeModal = document.querySelector('.close-modal');
            function trapModalFocus(modal) {
                const focusable = modal.querySelectorAll('a, button, input, .close-modal');
                if (focusable.length) focusable[0].focus();
            }
            function showModal() {
                modal.style.display = 'flex';
                document.body.style.overflow = 'hidden';
                trapModalFocus(modal);
            }
            function hideModal() {
                modal.style.display = 'none';
                document.body.style.overflow = '';
            }
            document.querySelectorAll('.car-part').forEach(part => {
                part.addEventListener('click', () => openPartModal(part));
                part.addEventListener('keydown', e => {
                    if (e.key === 'Enter' || e.key === ' ') {
                        e.preventDefault();
                        openPartModal(part);
                    }
                });
            });
            function openPartModal(part) {
                const partId = part.getAttribute('data-part');
                const partData = partsData[partId];
                partName.textContent = partData.name;
                partDescription.textContent = partData.description;
                if (partImages[partId]) {
                    partImage.innerHTML = `<img src="${partImages[partId]}" alt="${partData.name}" class="rounded-lg shadow mb-2" style="max-width: 100%; max-height:140px; display:block; margin:auto;">`;
                } else {
                    partImage.innerHTML = '';
                }
                if (partData.fact) {
                    factText.textContent = partData.fact;
                    partFacts.classList.remove('hidden');
                } else {
                    partFacts.classList.add('hidden');
                }
                if (partLinks[partId]) {
                    partLearnMore.innerHTML = `<a href="${partLinks[partId]}" class="text-blue-400 underline" target="_blank" rel="noopener">Learn more</a>`;
                } else {
                    partLearnMore.innerHTML = '';
                }
                showModal();
            }
            closeModal.addEventListener('click', hideModal);
            closeModal.addEventListener('keydown', e => {
                if (e.key === 'Enter' || e.key === ' ') hideModal();
            });
            window.addEventListener('keydown', e => {
                if (e.key === "Escape" && modal.style.display === 'flex') hideModal();
            });
            modal.addEventListener('click', e => {
                if (e.target === modal) hideModal();
            });

            // Animate parts on load
            document.addEventListener('DOMContentLoaded', () => {
                const parts = document.querySelectorAll('.car-part');
                parts.forEach((part, index) => {
                    setTimeout(() => { part.style.opacity = '1'; }, index * 100);
                });
            });
        </script>
    </div>
</body>
</html>
